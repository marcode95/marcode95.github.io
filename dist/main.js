(()=>{const t=(window.innerWidth+window.innerHeight)/8,n=document.querySelector("canvas"),o=n.getContext("2d");let e,a,i,h,r=1,y=[],d={x:0,y:0,tx:0,ty:0,z:5e-4},c=!1;function x(t){t.x=Math.random()*e,t.y=Math.random()*a}function u(){r=window.devicePixelRatio||1,e=window.innerWidth*r,a=window.innerHeight*r,n.width=e,n.height=a,y.forEach(x)}function l(t,n){if("number"==typeof i&&"number"==typeof h){let o=t-i,e=n-h;d.tx=d.tx+o/8*r*(c?1:-1),d.ty=d.ty+e/8*r*(c?1:-1)}i=t,h=n}function m(){i=null,h=null}!function(){for(let n=0;n<t;n++)y.push({x:0,y:0,z:.2+.8*Math.random()})}(),u(),function t(){o.clearRect(0,0,e,a),d.tx*=.96,d.ty*=.96,d.x+=.8*(d.tx-d.x),d.y+=.8*(d.ty-d.y),y.forEach((t=>{t.x+=d.x*t.z,t.y+=d.y*t.z,t.x+=(t.x-e/2)*d.z*t.z,t.y+=(t.y-a/2)*d.z*t.z,t.z+=d.z,(t.x<-50||t.x>e+50||t.y<-50||t.y>a+50)&&function(t){let n="z",o=Math.abs(d.x),i=Math.abs(d.y);if(o>1||i>1){let t;t=o>i?Math.random()<o/(o+i)?"h":"v":Math.random()<i/(o+i)?"v":"h",n="h"===t?d.x>0?"l":"r":d.y>0?"t":"b"}t.z=.2+.8*Math.random(),"z"===n?(t.z=.1,t.x=Math.random()*e,t.y=Math.random()*a):"l"===n?(t.x=-50,t.y=a*Math.random()):"r"===n?(t.x=e+50,t.y=a*Math.random()):"t"===n?(t.x=e*Math.random(),t.y=-50):"b"===n&&(t.x=e*Math.random(),t.y=a+50)}(t)})),y.forEach((t=>{o.beginPath(),o.lineCap="round",o.lineWidth=3*t.z*r,o.strokeStyle="rgba(255,255,255,"+(.5+.5*Math.random())+")",o.beginPath(),o.moveTo(t.x,t.y);var n=2*d.x,e=2*d.y;Math.abs(n)<.1&&(n=.5),Math.abs(e)<.1&&(e=.5),o.lineTo(t.x+n,t.y+e),o.stroke()})),requestAnimationFrame(t)}(),window.onresize=u,n.onmousemove=function(t){c=!1,l(t.clientX,t.clientY)},n.ontouchmove=function(t){c=!0,l(t.touches[0].clientX,t.touches[0].clientY),t.preventDefault()},n.ontouchend=m,document.onmouseleave=m})();